!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(self.webpackChunkui=self.webpackChunkui||[]).push([[5060],{5060:function(e,a,i){"use strict";i.r(a),i.d(a,{TreatmentsPageModule:function(){return rt}});var r=i(1116),o=i(1041),s=i(4812),c=i(3337),l=i(4762),u=i(2628),m=i(702),d=i(878),p=i(5366),f=i(6659),g=i(8057);function h(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"ion-col",6),p.TgZ(1,"app-table",7),p.NdJ("selectTreatment",function(t){return p.CHM(n),p.oxw().selectTreatment(t)}),p.qZA(),p.qZA()}if(2&t){var a=p.oxw();p.xp6(1),p.Q6J("displayedColumns",a.displayedColumns)("treatments",a.treatments)}}function Z(t,e){if(1&t&&(p.TgZ(0,"mat-option",12),p._uU(1),p.qZA()),2&t){var n=e.$implicit;p.Q6J("value",n),p.xp6(1),p.hij(" ",n.name," ")}}function T(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"ion-col",8),p.TgZ(1,"mat-form-field",9),p.TgZ(2,"mat-select",10),p.NdJ("valueChange",function(t){return p.CHM(n),p.oxw().selectedHospital=t})("selectionChange",function(){p.CHM(n);var t=p.oxw();return t.getTreatments(t.selectedHospital)}),p.YNc(3,Z,2,2,"mat-option",11),p.qZA(),p.qZA(),p.qZA()}if(2&t){var a=p.oxw();p.xp6(2),p.Q6J("value",a.selectedHospital),p.xp6(1),p.Q6J("ngForOf",a.allHospitals)}}function v(t,e){if(1&t&&(p.TgZ(0,"ion-col",13),p.TgZ(1,"mat-form-field",14),p.TgZ(2,"mat-label"),p._uU(3,"Search using patient's name or IPD "),p.qZA(),p._UZ(4,"input",15),p.TgZ(5,"mat-hint"),p._uU(6,"Searches anywhere within the string"),p.qZA(),p.qZA(),p._UZ(7,"app-mobile-treatments-table",16),p.qZA()),2&t){var n=p.oxw();p.xp6(4),p.Q6J("formControl",n.search),p.xp6(3),p.Q6J("allTreatments",n.displayTreatments)}}function A(t,e){if(1&t&&(p.TgZ(0,"ion-col",17),p.TgZ(1,"div"),p._UZ(2,"app-treatment-details",18),p.qZA(),p.qZA()),2&t){var n=p.oxw();p.xp6(2),p.Q6J("treatment",n.allTreatments[n.selectedTreatmentID-1])}}var y=["Harry","Ross","Bruce","Cook","Carolyn","Morgan","Albert","Walker","Randy","Reed","Larry","Barnes","Lois","Wilson","Jesse","Campbell","Ernest","Rogers","Theresa","Patterson","Henry","Simmons","Michelle","Perry","Frank","Butler","Shirley"],q=["Chemo","Transplant","Routine"],w=function(){var e=function(){function e(n,a,i){t(this,e),this.route=n,this.authService=a,this.treatmentService=i,this.displayedColumns=["sno","identifier","id","patient"],this.selectedTreatmentID=1,this.allTreatments=[],this.displayTreatments=[],this.search=new o.NI(null)}return n(e,[{key:"getHospitals",value:function(){return(0,d.of)([{id:1,name:"Dharamshila"},{id:2,name:"Metro"}]).pipe((0,u.g)(500))}},{key:"getTreatments",value:function(t){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.treatmentService.setSelectedHospital(t),e.next=3,this.createMockTreatments().toPromise();case 3:this.allTreatments=e.sent,this.treatments=this.allTreatments.reduce(function(t,e,n){return t.push({sno:n+1,identifier:e.identifier,id:e.id,patient:e.patient}),t},[]),this.displayTreatments=this.allTreatments;case 6:case"end":return e.stop()}},e,this)}))}},{key:"createMockTreatments",value:function(){var t=this,e=[];return Array.from({length:20},function(n,a){var i=y[Math.round(Math.random()*(y.length-1))]+" "+y[Math.round(Math.random()*(y.length-1))].charAt(0)+".";e.push({id:""+Math.floor(9e6*Math.random()),identifier:q[Math.floor(Math.random()*q.length)],patient:{id:""+a,name:i},dischargeDate:t.randomDate(new Date(2021,4,1),new Date),admissionDate:t.randomDate(new Date(2021,4,1),new Date),payType:"cash",notes:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."})}),(0,d.of)(e).pipe((0,u.g)(500))}},{key:"randomDate",value:function(t,e){return new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime())).toLocaleDateString()}},{key:"filterTreatments",value:function(t){this.displayTreatments=this.allTreatments.filter(function(e){return e.id.includes(t)||e.patient.name.includes(t)})}},{key:"ngOnInit",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getHospitals().toPromise();case 2:return this.allHospitals=t.sent,this.selectedHospital=this.allHospitals[0],this.treatmentService.setSelectedHospital(this.selectedHospital),t.next=7,this.getTreatments(this.selectedHospital);case 7:this.search.valueChanges.pipe((0,m.b)(200)).subscribe(function(t){return e.filterTreatments(t)});case 8:case"end":return t.stop()}},t,this)}))}},{key:"selectTreatment",value:function(t){this.selectedTreatmentID=t.sno}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(c.gz),p.Y36(f.e),p.Y36(g.z))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-treatments"]],decls:8,vars:4,consts:[["pageName","Treatments"],[1,"p-lg-5"],["class","ion-hide-md-down","size","6",4,"ngIf"],["size","12",4,"ngIf"],["class","ion-hide-sm-up","size","12",4,"ngIf"],["class","ion-hide-md-down","size","12","size-md","6",4,"ngIf"],["size","6",1,"ion-hide-md-down"],[3,"displayedColumns","treatments","selectTreatment"],["size","12"],[1,"full-width"],["name","hospitals",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","12",1,"ion-hide-sm-up"],["appearance","fill",1,"search-field"],["matInput","",3,"formControl"],[3,"allTreatments"],["size","12","size-md","6",1,"ion-hide-md-down"],[3,"treatment"]],template:function(t,e){1&t&&(p._UZ(0,"app-header",0),p.TgZ(1,"ion-content"),p.TgZ(2,"ion-grid",1),p.TgZ(3,"ion-row"),p.YNc(4,h,2,2,"ion-col",2),p.YNc(5,T,4,2,"ion-col",3),p.YNc(6,v,8,2,"ion-col",4),p.YNc(7,A,3,1,"ion-col",5),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(4),p.Q6J("ngIf",e.treatments),p.xp6(1),p.Q6J("ngIf",e.allHospitals),p.xp6(1),p.Q6J("ngIf",e.displayTreatments),p.xp6(1),p.Q6J("ngIf",e.allTreatments))},styles:[".search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.3rem}"]}),e}(),x=[{path:"",component:w}],_=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[c.Bz.forChild(x)],c.Bz]}),e}(),U=i(5530),C=i(3070),D=i(9550),k=i(3841),b=i(5431),N=i(6559),I=i(9241),M=i(9199);function J(t,e){1&t&&(p.TgZ(0,"th",14),p._uU(1," S.No. "),p.qZA())}function S(t,e){if(1&t&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&t){var n=e.$implicit;p.xp6(1),p.hij(" ",n.sno," ")}}function H(t,e){1&t&&(p.TgZ(0,"th",14),p._uU(1," Identifier "),p.qZA())}function P(t,e){if(1&t&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&t){var n=e.$implicit;p.xp6(1),p.hij(" ",n.identifier," ")}}function Y(t,e){1&t&&(p.TgZ(0,"th",14),p._uU(1," IPD "),p.qZA())}function j(t,e){if(1&t&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&t){var n=e.$implicit;p.xp6(1),p.hij(" ",n.id," ")}}function Q(t,e){1&t&&(p.TgZ(0,"th",14),p._uU(1," Patient name "),p.qZA())}function z(t,e){if(1&t&&(p.TgZ(0,"td",15),p._uU(1),p.qZA()),2&t){var n=e.$implicit;p.xp6(1),p.hij(" ",n.patient," ")}}function O(t,e){1&t&&p._UZ(0,"tr",16)}var R=function(t){return{highlight:t}};function F(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"tr",17),p.NdJ("click",function(){var t=p.CHM(n).$implicit;return p.oxw().onSelectTreatment(t)}),p.qZA()}if(2&t){var a=e.$implicit,i=p.oxw();p.Q6J("ngClass",p.VKq(1,R,i.selectedTreatmentID==a.sno))}}function B(t,e){if(1&t&&(p.TgZ(0,"tr",18),p.TgZ(1,"td",19),p._uU(2),p.qZA(),p.qZA()),2&t){p.oxw();var n=p.MAs(4);p.xp6(2),p.hij('No data matching the filter "',n.value,'"')}}var E=function(){return[5,10,12,15,20,25]},$=function(){var e=function(){function e(){t(this,e),this.selectTreatment=new p.vpe,this.selectedTreatmentID=1}return n(e,[{key:"ngOnInit",value:function(){this.dataSource=new M.by(this.treatments)}},{key:"applyFilter",value:function(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}},{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"onSelectTreatment",value:function(t){this.selectedTreatmentID=parseInt(t.sno,10),this.selectTreatment.emit(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-table"]],viewQuery:function(t,e){var n;(1&t&&(p.Gf(N.NW,5),p.Gf(I.YE,5)),2&t)&&(p.iGM(n=p.CRH())&&(e.paginator=n.first),p.iGM(n=p.CRH())&&(e.sort=n.first))},inputs:{treatments:"treatments",displayedColumns:"displayedColumns"},outputs:{selectTreatment:"selectTreatment"},decls:23,vars:5,consts:[["matInput","","placeholder","Ex. IPD number",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","identifier"],["matColumnDef","id"],["matColumnDef","patient"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass","click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-form-field"),p.TgZ(1,"mat-label"),p._uU(2,"Filter"),p.qZA(),p.TgZ(3,"input",0,1),p.NdJ("keyup",function(t){return e.applyFilter(t)}),p.qZA(),p.qZA(),p.TgZ(5,"div",2),p.TgZ(6,"table",3),p.ynx(7,4),p.YNc(8,J,2,0,"th",5),p.YNc(9,S,2,1,"td",6),p.BQk(),p.ynx(10,7),p.YNc(11,H,2,0,"th",5),p.YNc(12,P,2,1,"td",6),p.BQk(),p.ynx(13,8),p.YNc(14,Y,2,0,"th",5),p.YNc(15,j,2,1,"td",6),p.BQk(),p.ynx(16,9),p.YNc(17,Q,2,0,"th",5),p.YNc(18,z,2,1,"td",6),p.BQk(),p.YNc(19,O,1,0,"tr",10),p.YNc(20,F,1,3,"tr",11),p.YNc(21,B,3,1,"tr",12),p.qZA(),p._UZ(22,"mat-paginator",13),p.qZA()),2&t&&(p.xp6(6),p.Q6J("dataSource",e.dataSource),p.xp6(13),p.Q6J("matHeaderRowDef",e.displayedColumns),p.xp6(1),p.Q6J("matRowDefColumns",e.displayedColumns),p.xp6(2),p.Q6J("pageSizeOptions",p.DdM(4,E)))},directives:[C.KE,C.hX,D.Nt,M.BZ,I.YE,M.w1,M.fO,M.Dz,M.as,M.nj,M.Ee,N.NW,M.ge,I.nU,M.ev,M.XQ,M.Gk,r.mk],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.highlight[_ngcontent-%COMP%]{background:rgba(var(--ion-color-primary-rgb),.14)}"]}),e}(),G=i(5706),X=i(6489),W=i(2797),L=i(4369);function K(t,e){if(1&t&&(p.TgZ(0,"mat-card",2),p.TgZ(1,"mat-card-header"),p.TgZ(2,"mat-card-title"),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"mat-card-content"),p.TgZ(5,"ion-grid"),p.TgZ(6,"ion-row"),p.TgZ(7,"ion-col",3),p._uU(8," IPD number: "),p.qZA(),p.TgZ(9,"ion-col",3),p._uU(10),p.qZA(),p.TgZ(11,"ion-col",3),p._uU(12," Treatment Name: "),p.qZA(),p.TgZ(13,"ion-col",3),p._uU(14),p.qZA(),p.TgZ(15,"ion-col",3),p._uU(16," Date of admission: "),p.qZA(),p.TgZ(17,"ion-col",3),p._uU(18),p.qZA(),p.TgZ(19,"ion-col",3),p._uU(20," Date of discharge: "),p.qZA(),p.TgZ(21,"ion-col",3),p._uU(22),p.qZA(),p.TgZ(23,"ion-col",3),p._uU(24," Payment type: "),p.qZA(),p.TgZ(25,"ion-col",3),p._uU(26),p.qZA(),p.TgZ(27,"ion-col",3),p._uU(28," Notes: "),p.qZA(),p.TgZ(29,"ion-col",3),p._uU(30),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(31,"mat-card-actions"),p.TgZ(32,"button",4),p._uU(33,"Add Procedure"),p.qZA(),p.qZA(),p.qZA()),2&t){var n=p.oxw();p.xp6(3),p.Oqu(n.treatment.patient.name),p.xp6(7),p.hij(" ",n.treatment.id," "),p.xp6(4),p.hij(" ",n.treatment.identifier," "),p.xp6(4),p.hij(" ",n.treatment.admissionDate," "),p.xp6(4),p.hij(" ",n.treatment.dischargeDate," "),p.xp6(4),p.hij(" ",n.treatment.payType," "),p.xp6(4),p.hij(" ",n.treatment.notes," ")}}function V(t,e){if(1&t&&(p.TgZ(0,"mat-card-content",5),p.TgZ(1,"ion-grid"),p.TgZ(2,"ion-row"),p.TgZ(3,"ion-col",3),p._uU(4," IPD number: "),p.qZA(),p.TgZ(5,"ion-col",3),p._uU(6),p.qZA(),p.TgZ(7,"ion-col",3),p._uU(8," Date of admission: "),p.qZA(),p.TgZ(9,"ion-col",3),p._uU(10),p.qZA(),p.TgZ(11,"ion-col",3),p._uU(12," Date of discharge: "),p.qZA(),p.TgZ(13,"ion-col",3),p._uU(14),p.qZA(),p.TgZ(15,"ion-col",3),p._uU(16," Payment type: "),p.qZA(),p.TgZ(17,"ion-col",3),p._uU(18),p.qZA(),p.TgZ(19,"ion-col",3),p._uU(20," Notes: "),p.qZA(),p.TgZ(21,"ion-col",3),p._uU(22),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t){var n=p.oxw();p.xp6(6),p.hij(" ",n.treatment.id," "),p.xp6(4),p.hij(" ",n.treatment.admissionDate," "),p.xp6(4),p.hij(" ",n.treatment.dischargeDate," "),p.xp6(4),p.hij(" ",n.treatment.payType," "),p.xp6(4),p.hij(" ",n.treatment.notes," ")}}var tt=function(){var e=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-treatment-details"]],inputs:{treatment:"treatment"},decls:2,vars:2,consts:[["class","ion-hide-md-down",4,"ngIf"],["class","ion-hide-sm-up",4,"ngIf"],[1,"ion-hide-md-down"],["size","6"],["mat-raised-button","","mat-button",""],[1,"ion-hide-sm-up"]],template:function(t,e){1&t&&(p.YNc(0,K,34,7,"mat-card",0),p.YNc(1,V,23,5,"mat-card-content",1)),2&t&&(p.Q6J("ngIf",e.treatment),p.xp6(1),p.Q6J("ngIf",e.treatment))},directives:[r.O5,W.a8,W.dk,W.n5,W.dn,s.jY,s.Nd,s.wI,W.hq,L.lW],styles:[""]}),e}(),et=i(4670);function nt(t,e){if(1&t){var n=p.EpF();p.TgZ(0,"mat-expansion-panel"),p.TgZ(1,"mat-expansion-panel-header"),p.TgZ(2,"mat-panel-title"),p._uU(3),p.qZA(),p.TgZ(4,"mat-panel-description"),p._uU(5),p.qZA(),p.qZA(),p._UZ(6,"app-treatment-details",2),p.TgZ(7,"mat-action-row"),p.TgZ(8,"div"),p._uU(9," Procedures: 14 "),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"button",3),p.NdJ("click",function(){var t=p.CHM(n).$implicit;return p.oxw().addProcedure(t)}),p.TgZ(12,"mat-icon"),p._uU(13,"add"),p.qZA(),p.qZA(),p.TgZ(14,"button",4),p.NdJ("click",function(){var t=p.CHM(n).$implicit;return p.oxw().goToProcedures(t)}),p.TgZ(15,"mat-icon"),p._uU(16,"view_list"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){var a=e.$implicit;p.xp6(3),p.hij(" ",a.patient.name," "),p.xp6(2),p.hij(" ",a.identifier," "),p.xp6(1),p.Q6J("treatment",a)}}var at,it=function(){var e=function(){function e(n,a){t(this,e),this.router=n,this.treatmentsService=a,this.displayedColumns=["id","patient"]}return n(e,[{key:"ngOnInit",value:function(){}},{key:"goToProcedures",value:function(t){this.treatmentsService.setTreatment(t),this.router.navigateByUrl("procedures").then()}},{key:"addProcedure",value:function(t){this.treatmentsService.setTreatment(t),this.router.navigateByUrl("add-procedure").then()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Y36(c.F0),p.Y36(g.z))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-mobile-treatments-table"]],inputs:{allTreatments:"allTreatments"},decls:2,vars:1,consts:[[1,"headers-align"],[4,"ngFor","ngForOf"],[3,"treatment"],["mat-mini-fab","","mat-raised-button","","color","",3,"click"],["mat-mini-fab","","mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-accordion",0),p.YNc(1,nt,17,3,"mat-expansion-panel",1),p.qZA()),2&t&&(p.xp6(1),p.Q6J("ngForOf",e.allTreatments))},directives:[X.pp,r.sg,X.ib,X.yz,X.yK,X.u4,tt,X.VG,L.lW,et.Hw],styles:[".mat-action-row[_ngcontent-%COMP%]{place-content:space-between;align-items:center}"]}),e}(),rt=((at=function e(){t(this,e)}).\u0275fac=function(t){return new(t||at)},at.\u0275mod=p.oAB({type:at}),at.\u0275inj=p.cJS({imports:[[r.ez,o.u5,s.Pc,_,U.K,C.lN,o.UX,D.c,k.LD]]}),at);p.B6R(w,[b.G,s.W2,s.jY,s.Nd,r.O5,s.wI,$,C.KE,k.gD,r.sg,G.ey,C.hX,D.Nt,o.Fj,o.JJ,o.oH,C.bx,it,tt],[])}}])}();