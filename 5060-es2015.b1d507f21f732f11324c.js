(self.webpackChunkui=self.webpackChunkui||[]).push([[5060],{5060:function(t,e,n){"use strict";n.r(e),n.d(e,{TreatmentsPageModule:function(){return nt}});var i=n(1116),a=n(1041),o=n(4812),s=n(3337),r=n(4762),c=n(2628),l=n(702),m=n(878),d=n(5366),u=n(6659),p=n(8057);function g(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"ion-col",6),d.TgZ(1,"app-table",7),d.NdJ("selectTreatment",function(e){return d.CHM(t),d.oxw().selectTreatment(e)}),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(1),d.Q6J("displayedColumns",t.displayedColumns)("treatments",t.treatments)}}function h(t,e){if(1&t&&(d.TgZ(0,"mat-option",12),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.hij(" ",t.name," ")}}function Z(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"ion-col",8),d.TgZ(1,"mat-form-field",9),d.TgZ(2,"mat-select",10),d.NdJ("valueChange",function(e){return d.CHM(t),d.oxw().selectedHospital=e})("selectionChange",function(){d.CHM(t);const e=d.oxw();return e.getTreatments(e.selectedHospital)}),d.YNc(3,h,2,2,"mat-option",11),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(2),d.Q6J("value",t.selectedHospital),d.xp6(1),d.Q6J("ngForOf",t.allHospitals)}}function f(t,e){if(1&t&&(d.TgZ(0,"ion-col",13),d.TgZ(1,"mat-form-field",14),d.TgZ(2,"mat-label"),d._uU(3,"Search using patient's name or IPD "),d.qZA(),d._UZ(4,"input",15),d.TgZ(5,"mat-hint"),d._uU(6,"Searches anywhere within the string"),d.qZA(),d.qZA(),d._UZ(7,"app-mobile-treatments-table",16),d.qZA()),2&t){const t=d.oxw();d.xp6(4),d.Q6J("formControl",t.search),d.xp6(3),d.Q6J("allTreatments",t.displayTreatments)}}function T(t,e){if(1&t&&(d.TgZ(0,"ion-col",17),d.TgZ(1,"div"),d._UZ(2,"app-treatment-details",18),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(2),d.Q6J("treatment",t.allTreatments[t.selectedTreatmentID-1])}}const A=["Harry","Ross","Bruce","Cook","Carolyn","Morgan","Albert","Walker","Randy","Reed","Larry","Barnes","Lois","Wilson","Jesse","Campbell","Ernest","Rogers","Theresa","Patterson","Henry","Simmons","Michelle","Perry","Frank","Butler","Shirley"],q=["Chemo","Transplant","Routine"];let w=(()=>{class t{constructor(t,e,n){this.route=t,this.authService=e,this.treatmentService=n,this.displayedColumns=["sno","identifier","id","patient"],this.selectedTreatmentID=1,this.allTreatments=[],this.displayTreatments=[],this.search=new a.NI(null)}getHospitals(){return(0,m.of)([{id:1,name:"Dharamshila"},{id:2,name:"Metro"}]).pipe((0,c.g)(500))}getTreatments(t){return(0,r.mG)(this,void 0,void 0,function*(){this.treatmentService.setSelectedHospital(t),this.allTreatments=yield this.createMockTreatments().toPromise(),this.treatments=this.allTreatments.reduce((t,e,n)=>(t.push({sno:n+1,identifier:e.identifier,id:e.id,patient:e.patient}),t),[]),this.displayTreatments=this.allTreatments})}createMockTreatments(){const t=[];return Array.from({length:20},(e,n)=>{const i=A[Math.round(Math.random()*(A.length-1))]+" "+A[Math.round(Math.random()*(A.length-1))].charAt(0)+".";t.push({id:""+Math.floor(9e6*Math.random()),identifier:q[Math.floor(Math.random()*q.length)],patient:{id:""+n,name:i},dischargeDate:this.randomDate(new Date(2021,4,1),new Date),admissionDate:this.randomDate(new Date(2021,4,1),new Date),payType:"cash",notes:"Lorem Ipsum is simply dummy text of the printing and typesetting industry."})}),(0,m.of)(t).pipe((0,c.g)(500))}randomDate(t,e){return new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime())).toLocaleDateString()}filterTreatments(t){this.displayTreatments=this.allTreatments.filter(e=>e.id.includes(t)||e.patient.name.includes(t))}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.allHospitals=yield this.getHospitals().toPromise(),this.selectedHospital=this.allHospitals[0],this.treatmentService.setSelectedHospital(this.selectedHospital),yield this.getTreatments(this.selectedHospital),this.search.valueChanges.pipe((0,l.b)(200)).subscribe(t=>this.filterTreatments(t))})}selectTreatment(t){this.selectedTreatmentID=t.sno}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(s.gz),d.Y36(u.e),d.Y36(p.z))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-treatments"]],decls:8,vars:4,consts:[["pageName","Treatments"],[1,"p-lg-5"],["class","ion-hide-md-down","size","6",4,"ngIf"],["size","12","size-md","4",4,"ngIf"],["class","ion-hide-sm-up","size","12",4,"ngIf"],["class","ion-hide-md-down","size","12","size-md","6",4,"ngIf"],["size","6",1,"ion-hide-md-down"],[3,"displayedColumns","treatments","selectTreatment"],["size","12","size-md","4"],[1,"full-width"],["name","hospitals",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["size","12",1,"ion-hide-sm-up"],["appearance","fill",1,"search-field"],["matInput","",3,"formControl"],[3,"allTreatments"],["size","12","size-md","6",1,"ion-hide-md-down"],[3,"treatment"]],template:function(t,e){1&t&&(d._UZ(0,"app-header",0),d.TgZ(1,"ion-content"),d.TgZ(2,"ion-grid",1),d.TgZ(3,"ion-row"),d.YNc(4,g,2,2,"ion-col",2),d.YNc(5,Z,4,2,"ion-col",3),d.YNc(6,f,8,2,"ion-col",4),d.YNc(7,T,3,1,"ion-col",5),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("ngIf",e.treatments),d.xp6(1),d.Q6J("ngIf",e.allHospitals),d.xp6(1),d.Q6J("ngIf",e.displayTreatments),d.xp6(1),d.Q6J("ngIf",e.allTreatments))},styles:[".search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1.3rem}"]}),t})();const y=[{path:"",component:w}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[s.Bz.forChild(y)],s.Bz]}),t})();var _=n(5530),U=n(3070),C=n(9550),D=n(3841),v=n(5431),N=n(6559),b=n(9241),I=n(9199);function M(t,e){1&t&&(d.TgZ(0,"th",14),d._uU(1," S.No. "),d.qZA())}function J(t,e){if(1&t&&(d.TgZ(0,"td",15),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.sno," ")}}function S(t,e){1&t&&(d.TgZ(0,"th",14),d._uU(1," Identifier "),d.qZA())}function H(t,e){if(1&t&&(d.TgZ(0,"td",15),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.identifier," ")}}function P(t,e){1&t&&(d.TgZ(0,"th",14),d._uU(1," IPD "),d.qZA())}function Y(t,e){if(1&t&&(d.TgZ(0,"td",15),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.id," ")}}function k(t,e){1&t&&(d.TgZ(0,"th",14),d._uU(1," Patient name "),d.qZA())}function Q(t,e){if(1&t&&(d.TgZ(0,"td",15),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.patient," ")}}function j(t,e){1&t&&d._UZ(0,"tr",16)}const z=function(t){return{highlight:t}};function O(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"tr",17),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().onSelectTreatment(e)}),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.Q6J("ngClass",d.VKq(1,z,n.selectedTreatmentID==t.sno))}}function F(t,e){if(1&t&&(d.TgZ(0,"tr",18),d.TgZ(1,"td",19),d._uU(2),d.qZA(),d.qZA()),2&t){d.oxw();const t=d.MAs(4);d.xp6(2),d.hij('No data matching the filter "',t.value,'"')}}const B=function(){return[5,10,12,15,20,25]};let R=(()=>{class t{constructor(){this.selectTreatment=new d.vpe,this.selectedTreatmentID=1}ngOnInit(){this.dataSource=new I.by(this.treatments)}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}onSelectTreatment(t){this.selectedTreatmentID=parseInt(t.sno,10),this.selectTreatment.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-table"]],viewQuery:function(t,e){if(1&t&&(d.Gf(N.NW,5),d.Gf(b.YE,5)),2&t){let t;d.iGM(t=d.CRH())&&(e.paginator=t.first),d.iGM(t=d.CRH())&&(e.sort=t.first)}},inputs:{treatments:"treatments",displayedColumns:"displayedColumns"},outputs:{selectTreatment:"selectTreatment"},decls:23,vars:5,consts:[["matInput","","placeholder","Ex. IPD number",3,"keyup"],["input",""],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","sno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","identifier"],["matColumnDef","id"],["matColumnDef","patient"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"ngClass","click"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(d.TgZ(0,"mat-form-field"),d.TgZ(1,"mat-label"),d._uU(2,"Filter"),d.qZA(),d.TgZ(3,"input",0,1),d.NdJ("keyup",function(t){return e.applyFilter(t)}),d.qZA(),d.qZA(),d.TgZ(5,"div",2),d.TgZ(6,"table",3),d.ynx(7,4),d.YNc(8,M,2,0,"th",5),d.YNc(9,J,2,1,"td",6),d.BQk(),d.ynx(10,7),d.YNc(11,S,2,0,"th",5),d.YNc(12,H,2,1,"td",6),d.BQk(),d.ynx(13,8),d.YNc(14,P,2,0,"th",5),d.YNc(15,Y,2,1,"td",6),d.BQk(),d.ynx(16,9),d.YNc(17,k,2,0,"th",5),d.YNc(18,Q,2,1,"td",6),d.BQk(),d.YNc(19,j,1,0,"tr",10),d.YNc(20,O,1,3,"tr",11),d.YNc(21,F,3,1,"tr",12),d.qZA(),d._UZ(22,"mat-paginator",13),d.qZA()),2&t&&(d.xp6(6),d.Q6J("dataSource",e.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns),d.xp6(2),d.Q6J("pageSizeOptions",d.DdM(4,B)))},directives:[U.KE,U.hX,C.Nt,I.BZ,b.YE,I.w1,I.fO,I.Dz,I.as,I.nj,I.Ee,N.NW,I.ge,b.nU,I.ev,I.XQ,I.Gk,i.mk],styles:["table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.highlight[_ngcontent-%COMP%]{background:rgba(var(--ion-color-primary-rgb),.14)}"]}),t})();var E=n(5706),$=n(6489),G=n(2797),X=n(4369);function W(t,e){if(1&t&&(d.TgZ(0,"mat-card",2),d.TgZ(1,"mat-card-header"),d.TgZ(2,"mat-card-title"),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"mat-card-content"),d.TgZ(5,"ion-grid"),d.TgZ(6,"ion-row"),d.TgZ(7,"ion-col",3),d._uU(8," IPD number: "),d.qZA(),d.TgZ(9,"ion-col",3),d._uU(10),d.qZA(),d.TgZ(11,"ion-col",3),d._uU(12," Treatment Name: "),d.qZA(),d.TgZ(13,"ion-col",3),d._uU(14),d.qZA(),d.TgZ(15,"ion-col",3),d._uU(16," Date of admission: "),d.qZA(),d.TgZ(17,"ion-col",3),d._uU(18),d.qZA(),d.TgZ(19,"ion-col",3),d._uU(20," Date of discharge: "),d.qZA(),d.TgZ(21,"ion-col",3),d._uU(22),d.qZA(),d.TgZ(23,"ion-col",3),d._uU(24," Payment type: "),d.qZA(),d.TgZ(25,"ion-col",3),d._uU(26),d.qZA(),d.TgZ(27,"ion-col",3),d._uU(28," Notes: "),d.qZA(),d.TgZ(29,"ion-col",3),d._uU(30),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(31,"mat-card-actions"),d.TgZ(32,"button",4),d._uU(33,"Add Procedure"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(3),d.Oqu(t.treatment.patient.name),d.xp6(7),d.hij(" ",t.treatment.id," "),d.xp6(4),d.hij(" ",t.treatment.identifier," "),d.xp6(4),d.hij(" ",t.treatment.admissionDate," "),d.xp6(4),d.hij(" ",t.treatment.dischargeDate," "),d.xp6(4),d.hij(" ",t.treatment.payType," "),d.xp6(4),d.hij(" ",t.treatment.notes," ")}}function L(t,e){if(1&t&&(d.TgZ(0,"mat-card-content",5),d.TgZ(1,"ion-grid"),d.TgZ(2,"ion-row"),d.TgZ(3,"ion-col",3),d._uU(4," IPD number: "),d.qZA(),d.TgZ(5,"ion-col",3),d._uU(6),d.qZA(),d.TgZ(7,"ion-col",3),d._uU(8," Date of admission: "),d.qZA(),d.TgZ(9,"ion-col",3),d._uU(10),d.qZA(),d.TgZ(11,"ion-col",3),d._uU(12," Date of discharge: "),d.qZA(),d.TgZ(13,"ion-col",3),d._uU(14),d.qZA(),d.TgZ(15,"ion-col",3),d._uU(16," Payment type: "),d.qZA(),d.TgZ(17,"ion-col",3),d._uU(18),d.qZA(),d.TgZ(19,"ion-col",3),d._uU(20," Notes: "),d.qZA(),d.TgZ(21,"ion-col",3),d._uU(22),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(6),d.hij(" ",t.treatment.id," "),d.xp6(4),d.hij(" ",t.treatment.admissionDate," "),d.xp6(4),d.hij(" ",t.treatment.dischargeDate," "),d.xp6(4),d.hij(" ",t.treatment.payType," "),d.xp6(4),d.hij(" ",t.treatment.notes," ")}}let K=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-treatment-details"]],inputs:{treatment:"treatment"},decls:2,vars:2,consts:[["class","ion-hide-md-down",4,"ngIf"],["class","ion-hide-sm-up",4,"ngIf"],[1,"ion-hide-md-down"],["size","6"],["mat-raised-button","","mat-button",""],[1,"ion-hide-sm-up"]],template:function(t,e){1&t&&(d.YNc(0,W,34,7,"mat-card",0),d.YNc(1,L,23,5,"mat-card-content",1)),2&t&&(d.Q6J("ngIf",e.treatment),d.xp6(1),d.Q6J("ngIf",e.treatment))},directives:[i.O5,G.a8,G.dk,G.n5,G.dn,o.jY,o.Nd,o.wI,G.hq,X.lW],styles:[""]}),t})();var V=n(4670);function tt(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-expansion-panel"),d.TgZ(1,"mat-expansion-panel-header"),d.TgZ(2,"mat-panel-title"),d._uU(3),d.qZA(),d.TgZ(4,"mat-panel-description"),d._uU(5),d.qZA(),d.qZA(),d._UZ(6,"app-treatment-details",2),d.TgZ(7,"mat-action-row"),d.TgZ(8,"div"),d._uU(9," Procedures: 14 "),d.qZA(),d.TgZ(10,"div"),d.TgZ(11,"button",3),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().addProcedure(e)}),d.TgZ(12,"mat-icon"),d._uU(13,"add"),d.qZA(),d.qZA(),d.TgZ(14,"button",4),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().goToProcedures(e)}),d.TgZ(15,"mat-icon"),d._uU(16,"view_list"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(3),d.hij(" ",t.patient.name," "),d.xp6(2),d.hij(" ",t.identifier," "),d.xp6(1),d.Q6J("treatment",t)}}let et=(()=>{class t{constructor(t,e){this.router=t,this.treatmentsService=e,this.displayedColumns=["id","patient"]}ngOnInit(){}goToProcedures(t){this.treatmentsService.setTreatment(t),this.router.navigateByUrl("procedures").then()}addProcedure(t){this.treatmentsService.setTreatment(t),this.router.navigateByUrl("add-procedure").then()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(s.F0),d.Y36(p.z))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-mobile-treatments-table"]],inputs:{allTreatments:"allTreatments"},decls:2,vars:1,consts:[[1,"headers-align"],[4,"ngFor","ngForOf"],[3,"treatment"],["mat-mini-fab","","mat-raised-button","","color","",3,"click"],["mat-mini-fab","","mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"mat-accordion",0),d.YNc(1,tt,17,3,"mat-expansion-panel",1),d.qZA()),2&t&&(d.xp6(1),d.Q6J("ngForOf",e.allTreatments))},directives:[$.pp,i.sg,$.ib,$.yz,$.yK,$.u4,K,$.VG,X.lW,V.Hw],styles:[".mat-action-row[_ngcontent-%COMP%]{place-content:space-between;align-items:center}"]}),t})(),nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[i.ez,a.u5,o.Pc,x,_.K,U.lN,a.UX,C.c,D.LD]]}),t})();d.B6R(w,[v.G,o.W2,o.jY,o.Nd,i.O5,o.wI,R,U.KE,D.gD,i.sg,E.ey,U.hX,C.Nt,a.Fj,a.JJ,a.oH,U.bx,et,K],[])}}]);